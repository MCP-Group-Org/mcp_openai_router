# Описание задачи
Проанализировать результаты выполнения ноутбуков `mor-python.ipynb` и `mcp_openai_router_user_request.ipynb`, чтобы оценить текущее состояние инструмента `think_tool` в сервисе `mcp_openai_router`.

# Подход
- Извлечение JSON-ответов из ноутбуков без повторного прогона, чтобы понять фактическое поведение эндпоинтов `initialize`, `tools/list` и `tools/call`.
- Сопоставление ожидаемого поведения `think_tool` с реально возвращаемыми полями `toolCalls` и диагностическими сообщениями OpenAI Responses API.

# Чек-лист
- [x] Изучить notebook `mor-python.ipynb`.
- [x] Изучить notebook `mcp_openai_router_user_request.ipynb`.
- [x] Сформировать и внедрить исправления для корректной фиксации вызовов `think_tool`.

# План реализации ближайшего шага
1. Расширить обработку `tools/call` в `app/main.py`, чтобы mcp_openai_router самостоятельно исполнял `think-tool`, когда OpenAI возвращает `function_call`.
2. Передавать результаты выполнения `think-tool` в `content`/`metadata`, убирая выполненные вызовы из `toolCalls`, чтобы избежать повторного исполнения на уровне клиента.
3. На период диагностики включить отладочные логи (print) во всех участках цепочки (`_handle_chat`, `_handle_think`, `ThinkToolClient`) и по их результатам уточнить причину пропусков `think-tool`.

# Роадмап
- После завершения шага 1: расширить `tests/test_mcp_router.py` сценарием, который проверяет обязательное использование `think_tool` при наличии термина «think» в запросе.
